{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/tpunamiya/tpunamiya.github.io/refs/heads/main/Project_JSON/enrollment_data.json"
  },
  "title": {
    "text": "Enrollment Distribution by School Type: Rural vs Urban (2021-2024)",
    "subtitle": "Select a state from the dropdown",
    "fontSize": 16,
    "subtitleFontSize": 11,
    "anchor": "start"
  },
  "params": [
    {
      "name": "state_selection",
      "value": "All India",
      "bind": {
        "input": "select",
        "options": ["All India", "Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh", "Delhi", "Goa", "Gujarat", "Haryana", "Himachal Pradesh", "Jharkhand", "Karnataka", "Kerala", "Madhya Pradesh", "Maharashtra", "Manipur", "Meghalaya", "Mizoram", "Nagaland", "Odisha", "Punjab", "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura", "Uttar Pradesh", "Uttarakhand", "West Bengal"],
        "name": "Select State: ",
        "labelFontSize": 11,
        "inputFontSize": 11
      }
    }
  ],
  "transform": [
    {"filter": "datum.state == state_selection"}
  ],
  "hconcat": [
    {
      "title": "Rural",
      "width": 370,
      "height": 450,
      "transform": [
        {"filter": "datum.location_type == 'Rural'"}
      ],
      "mark": {
        "type": "area",
        "line": true,
        "opacity": 0.85,
        "interpolate": "monotone"
      },
      "encoding": {
        "x": {
          "field": "year",
          "type": "ordinal",
          "title": "Year",
          "axis": {
            "labelAngle": 0,
            "labelFontSize": 11,
            "labelPadding": 5,
            "domain": true,
            "domainWidth": 1
          },
          "scale": {"padding": 0}
        },
        "y": {
          "aggregate": "sum",
          "field": "percentage",
          "type": "quantitative",
          "title": "Percentage of Total Enrollment (%)",
          "stack": "zero",
          "scale": {"domain": [0, 100]},
          "axis": {"labelFontSize": 11}
        },
        "color": {
          "field": "school_category",
          "type": "nominal",
          "title": "School Type",
          "scale": {
            "domain": ["State Government", "Central Government", "Government Aided", "Private Unaided", "Other"],
            "range": ["#d5adc1", "#25171e", "#82536a", "#77ba99", "#E0E0E0"]
          },
          "legend": {
            "orient": "bottom",
            "titleFontSize": 12,
            "labelFontSize": 11,
            "symbolSize": 80,
            "labelLimit": 150
          }
        },
        "order": {
          "field": "school_category",
          "type": "nominal",
          "sort": "ascending"
        },
        "tooltip": [
          {"field": "year", "type": "ordinal", "title": "Year"},
          {"field": "state", "type": "nominal", "title": "State"},
          {"field": "location_type", "type": "nominal", "title": "Location"},
          {"field": "school_category", "type": "nominal", "title": "School Type"},
          {"aggregate": "sum", "field": "percentage", "type": "quantitative", "title": "Percentage", "format": ".1f"},
          {"aggregate": "sum", "field": "total_enrollment", "type": "quantitative", "title": "Total Students", "format": ","}
        ]
      }
    },
    {
      "title": "Urban",
      "width": 370,
      "height": 450,
      "transform": [
        {"filter": "datum.location_type == 'Urban'"}
      ],
      "mark": {
        "type": "area",
        "line": true,
        "opacity": 0.85,
        "interpolate": "monotone"
      },
      "encoding": {
        "x": {
          "field": "year",
          "type": "ordinal",
          "title": "Year",
          "axis": {
            "labelAngle": 0,
            "labelFontSize": 11,
            "labelPadding": 5,
            "domain": true,
            "domainWidth": 1
          },
          "scale": {"padding": 0}
        },
        "y": {
          "aggregate": "sum",
          "field": "percentage",
          "type": "quantitative",
          "title": "",
          "stack": "zero",
          "scale": {"domain": [0, 100]},
          "axis": {"labelFontSize": 11}
        },
        "color": {
          "field": "school_category",
          "type": "nominal",
          "title": "School Type",
          "scale": {
            "domain": ["State Government", "Central Government", "Government Aided", "Private Unaided", "Other"],
            "range": ["#d5adc1", "#25171e", "#82536a", "#77ba99", "#E0E0E0"]
          },
          "legend": null
        },
        "order": {
          "field": "school_category",
          "type": "nominal",
          "sort": "ascending"
        },
        "tooltip": [
          {"field": "year", "type": "ordinal", "title": "Year"},
          {"field": "state", "type": "nominal", "title": "State"},
          {"field": "location_type", "type": "nominal", "title": "Location"},
          {"field": "school_category", "type": "nominal", "title": "School Type"},
          {"aggregate": "sum", "field": "percentage", "type": "quantitative", "title": "Percentage", "format": ".1f"},
          {"aggregate": "sum", "field": "total_enrollment", "type": "quantitative", "title": "Total Students", "format": ","}
        ]
      }
    }
  ],
  "config": {
  "view": {"strokeWidth": 0},
  "axis": {
    "labelFontSize": 11,
    "titleFontSize": 12,
    "gridColor": "#e5e7eb",
    "domainColor": "#333333"
  },
  "concat": {"spacing": 10},
  "legend": {
    "labelFontSize": 10,
    "titleFontSize": 11
  },
  "params": [
    {"labelAlign": "center"}
  ]
}
}